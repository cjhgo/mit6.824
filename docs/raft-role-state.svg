<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.26.0 (20091210.2329)
 -->
<!-- Title: G Pages: 1 -->
<svg width="558pt" height="260pt"
 viewBox="0.00 0.00 557.59 260.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph1" class="graph" transform="scale(1 1) rotate(0) translate(4 256)">
<title>G</title>
<polygon fill="white" stroke="white" points="-4,5 -4,-256 554.592,-256 554.592,5 -4,5"/>
<!-- follower -->
<g id="node1" class="node"><title>follower</title>
<ellipse fill="none" stroke="black" cx="120.592" cy="-233" rx="43.8406" ry="19.0919"/>
<text text-anchor="middle" x="120.592" y="-229.9" font-family="Times Roman,serif" font-size="14.00">follower</text>
</g>
<!-- follower&#45;&gt;follower -->
<g id="edge4" class="edge"><title>follower&#45;&gt;follower</title>
<path fill="none" stroke="black" d="M156.891,-243.833C170.926,-244.314 182.592,-240.703 182.592,-233 182.592,-227.283 176.166,-223.82 167.115,-222.611"/>
<polygon fill="black" stroke="black" points="167.034,-219.104 156.891,-222.167 166.73,-226.098 167.034,-219.104"/>
<text text-anchor="middle" x="273.092" y="-231.4" font-family="Times Roman,serif" font-size="14.00">收到心跳rpc/或者收到投票rpc</text>
</g>
<!-- candidate -->
<g id="node3" class="node"><title>candidate</title>
<ellipse fill="none" stroke="black" cx="120.592" cy="-115" rx="48.0833" ry="19.0919"/>
<text text-anchor="middle" x="120.592" y="-111.9" font-family="Times Roman,serif" font-size="14.00">candidate</text>
</g>
<!-- follower&#45;&gt;candidate -->
<g id="edge2" class="edge"><title>follower&#45;&gt;candidate</title>
<path fill="none" stroke="black" d="M80.5876,-224.95C52.0651,-218.305 17.2888,-208.033 8.59169,-196 -2.8639,-180.151 -2.8639,-167.849 8.59169,-152 16.0048,-141.744 42.3655,-132.767 67.6505,-126.224"/>
<polygon fill="black" stroke="black" points="68.754,-129.556 77.616,-123.75 67.0673,-122.763 68.754,-129.556"/>
<text text-anchor="middle" x="53.5917" y="-172.4" font-family="Times Roman,serif" font-size="14.00">心跳等待超时,</text>
</g>
<!-- candidate&#45;&gt;follower -->
<g id="edge8" class="edge"><title>candidate&#45;&gt;follower</title>
<path fill="none" stroke="black" d="M120.592,-134.213C120.592,-152.982 120.592,-181.808 120.592,-203.486"/>
<polygon fill="black" stroke="black" points="117.092,-203.779 120.592,-213.779 124.092,-203.779 117.092,-203.779"/>
<text text-anchor="middle" x="232.092" y="-183.4" font-family="Times Roman,serif" font-size="14.00">发现当前term的leader</text>
<text text-anchor="middle" x="232.092" y="-161.4" font-family="Times Roman,serif" font-size="14.00">或者收到更高term的rpc(心跳或投票)</text>
</g>
<!-- candidate&#45;&gt;candidate -->
<g id="edge10" class="edge"><title>candidate&#45;&gt;candidate</title>
<path fill="none" stroke="black" d="M163.122,-123.991C176.268,-123.81 186.592,-120.812 186.592,-115 186.592,-110.777 181.142,-108.04 173.12,-106.789"/>
<polygon fill="black" stroke="black" points="173.365,-103.298 163.122,-106.009 172.82,-110.277 173.365,-103.298"/>
<text text-anchor="middle" x="215.592" y="-113.4" font-family="Times Roman,serif" font-size="14.00">选举超时</text>
</g>
<!-- leader -->
<g id="node6" class="node"><title>leader</title>
<ellipse fill="none" stroke="black" cx="277.592" cy="-19" rx="34.8574" ry="19.0919"/>
<text text-anchor="middle" x="277.592" y="-15.9" font-family="Times Roman,serif" font-size="14.00">leader</text>
</g>
<!-- candidate&#45;&gt;leader -->
<g id="edge6" class="edge"><title>candidate&#45;&gt;leader</title>
<path fill="none" stroke="black" d="M146.87,-98.9318C174.084,-82.2916 216.621,-56.2812 245.733,-38.4807"/>
<polygon fill="black" stroke="black" points="247.599,-41.4422 254.304,-33.2394 243.947,-35.4701 247.599,-41.4422"/>
<text text-anchor="middle" x="248.592" y="-65.4" font-family="Times Roman,serif" font-size="14.00">赢得多数票</text>
</g>
<!-- leader&#45;&gt;follower -->
<g id="edge12" class="edge"><title>leader&#45;&gt;follower</title>
<path fill="none" stroke="black" d="M294.251,-36.0377C325.47,-70.0182 386.041,-147.142 344.592,-196 333.647,-208.901 236.627,-221.14 173.912,-227.802"/>
<polygon fill="black" stroke="black" points="173.359,-224.341 163.778,-228.862 174.088,-231.303 173.359,-224.341"/>
<text text-anchor="middle" x="452.092" y="-113.4" font-family="Times Roman,serif" font-size="14.00">收到更高term的rpc(心跳或投票)</text>
</g>
</g>

<g transform="translate(0.000000,17.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M21 157 c-29 -35 -16 -97 20 -97 15 0 19 -5 15 -16 -3 -9 -6 -20 -6
-25 0 -5 -4 -9 -10 -9 -14 0 -12 27 3 33 6 3 2 6 -10 6 -30 1 -31 -35 -3 -44
28 -9 47 9 55 51 3 20 9 42 12 50 3 8 -1 14 -11 14 -9 0 -16 -8 -16 -19 0 -26
-15 -34 -30 -16 -13 16 -6 48 16 70 14 13 13 15 -4 15 -11 0 -25 -6 -31 -13z"/>
<path d="M80 150 c0 -13 5 -20 13 -17 6 2 12 10 12 17 0 7 -6 15 -12 18 -8 2
-13 -5 -13 -18z"/>
<path d="M347 164 c-13 -13 -7 -24 14 -24 11 0 19 5 17 12 -5 14 -22 21 -31
12z"/>
<path d="M103 85 c-9 -40 -8 -45 8 -45 13 0 19 9 21 33 2 24 7 31 21 29 10 -2
17 3 17 13 0 10 -9 15 -28 15 -26 0 -30 -5 -39 -45z"/>
<path d="M175 101 c-24 -48 -13 -59 64 -60 63 -1 69 1 79 25 15 31 15 64 1 64
-6 0 -8 -8 -5 -18 4 -10 -1 -27 -10 -38 -14 -18 -15 -17 -9 19 5 29 3 37 -9
37 -9 0 -18 -13 -22 -35 -3 -19 -10 -35 -14 -35 -4 0 -4 16 0 35 8 35 8 35
-26 35 -27 0 -36 -6 -49 -29z m47 -6 c-5 -28 -22 -44 -22 -21 0 21 11 46 20
46 4 0 5 -11 2 -25z"/>
<path d="M340 116 c0 -7 -3 -28 -6 -45 -6 -26 -3 -31 13 -31 10 0 25 6 32 12
11 10 13 10 7 1 -5 -9 3 -13 28 -13 25 0 36 4 36 15 0 8 -4 15 -10 15 -5 0
-10 -4 -10 -10 0 -5 -5 -10 -11 -10 -6 0 -2 12 9 28 36 51 36 52 -2 52 -25 0
-36 -4 -36 -15 0 -8 5 -15 10 -15 6 0 10 5 10 12 0 6 3 9 6 6 9 -10 -19 -46
-39 -52 -17 -4 -18 -1 -13 30 6 27 4 34 -9 34 -8 0 -15 -6 -15 -14z"/>
<path d="M472 118 c-7 -7 -12 -27 -12 -46 0 -30 2 -33 27 -30 17 2 32 12 39
27 7 13 18 28 26 33 10 8 9 8 -4 4 -12 -3 -18 0 -18 9 0 18 -41 20 -58 3z m29
-51 c-13 -13 -15 11 -4 40 7 16 8 15 11 -6 2 -13 -1 -28 -7 -34z"/>
</g>
</svg>
